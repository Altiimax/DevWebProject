{"version":3,"sources":["history.js","api/apiRequest.js","utils.js","components/ToolDetail/ToolDetail.js","components/ToolOptions/ToolOptions.js","components/Tool/Tool.js","components/GroupDetail/GroupDetail.js","components/SearchResult/SearchResult.js","components/Map/Map.js","components/FindTools/FindTools.js","pages/home/Home.js","components/CreateGroup/CreateGroup.js","components/MyGroups/MyGroups.js","components/AddTools/AddTools.js","components/MyTools/MyTools.js","components/MyProfile/MyProfile.js","pages/profile/Profile.js","pages/help/Help.js","pages/contact/Contact.js","pages/aboutUs/AboutUs.js","pages/terms/Terms.js","pages/notFound/NotFound.js","Routes.js","components/Header/Header.js","components/Footer/Footer.js","components/Sign/SignIn.js","components/Sign/SignUp.js","components/Sign/SignOut.js","App.js","serviceWorker.js","index.js","components/AddTools/addimg.png","assets/toolBox_logo.png","nut.svg"],"names":["history","isInDev","require","inDev","apiRequest","this","xhr","XMLHttpRequest","withCredentials","method","endpoint","open","tokenIsValid","setRequestHeader","userFromToken","token","type","func","addEventListener","data","arguments","length","send","localStorage","getItem","dateNow","Date","jwt_decode","exp","getTime","removeItem","err","decodedToken","id","user_id","email","push","window","location","reload","getUserProfileAPIRequest","req","readyState","status","profile","JSON","parse","responseText","document","getElementById","innerHTML","firstName","lastName","setItem","url","initialStates","toolObj","toolOwner","id_person","alias","id_tool","toolName","toolDescription","toolPrice","toolImages","id_toolImage","image","reviews","toolImageList","ToolDetail","props","closePopUp","showPopUp","setState","compUpdated","state","getToolApiRequest","toolId","self","resp","key_ti","ti","key","src","alt","ReactDOM","render","Dst","Sub","Cont","href","tool","Modal","show","onHide","Header","closeButton","Title","Body","onClick","openEmailClient","Component","displayed_groups","user_groups","tool_groups","toChange","ToolOptions","handleChange","e","target","checked","name","handleSubmit","group","preventDefault","postToolGroupApiRequest","deleteToolGroupApiRequest","getUserGroupsApiRequest","getToolGroupsApiRequest","groupsToHtml","id_group","contentType","id_groupName","stringify","groupsHtml","key_g","ug","hasTool","onChange","tg","defaultChecked","htmlFor","className","onSubmit","value","Tool","useRef","current","pictures","description","desc","price","PopUp","popUp","useEffect","showSlides","slideIndex","i","slides","getElementsByClassName","style","display","setTimeout","idT","tdl","displayDetailPopup","displayGroupsPopup","imgHtml","key_i","img","displayImages","GroupDetail","groupObj","content","toolPopup","groups","getMyGroupsApiRequest","tools","toolList","key_t","t","getAllTools","groupType","town","townName","joinStatus","addG","classList","remove","add","group_id","apiAddMember","groupDescription","SearchResult","displayGroupDetail","gpD","componentDidMount","tabData","tabBody","Table","striped","bordered","hover","variant","mapStyles","width","height","MapContainer","onMarkerClick","marker","selectedPlace","activeMarker","showingInfoWindow","onClose","markers","key_m","g","title","position","lat","lng","google","zoom","initialCenter","center","visible","GoogleApiWrapper","apiKey","FindTools","apiFindTools","rep","onlyOnce","isAlreadyIn","go","unmountComponentAtNode","townList","getAllTownsApiRequest","getAllToolsApiRequest","includes","sort","a","b","toLowerCase","localeCompare","Form","noValidate","validated","Group","Label","selected","labelKey","options","placeholder","Home","groupName","groupCountry","groupTown","groupRange","CreateGroup","id_town","postGroupApiRequest","getAllCountriesApiRequest","countryOptions","countrySelectHtml","c","id_countryCode","countryName","countryId","townOptions","townSelectHtml","memberData","groupAdmin","postGroupMemberApiRequest","refreshGroupList","required","defaultValue","MyGroups","admin","displayGroups","p","typeOfRent","pictures_preview","addimg","AddTools","addToolApi","dataImages","FormData","append","addToolImagesApi","tool_id","refreshToolList","files","imgPos","parseInt","slice","URL","createObjectURL","prevPictures","dataTool","min","max","step","visibility","MyTools","useState","getMyToolsApi","id_pers","displayPopup","key_y","MyProfile","data_profile","birthDate","getProfile","nut","Profile","getMyProfileApi","profileInfos","groupList","displayMyTools","getMyGroupsApi","Help","Contact","AboutUs","Terms","NotFound","pathname","Routes","exact","path","component","signed_out_header","Navbar","expand","Brand","to","icon","data-logo-alt","Toggle","aria-controls","Collapse","Nav","Item","activeClassName","display_popUp","signed_in_header","signed_in","Footer","Logo","getFullYear","user_initialState","password","SignIn","loginAPIRequest","pwd","usr","usr_id","usr_token","handle_signIn","disabled","firstname","lastname","newPassword","confirmPassword","hasagreed","SignUp","bind","newprofile","error","now","input","age","Math","floor","errorMessage","newAccountAPIRequest","SignOut","forceUpdate","handle_signOut","App","show_popUp","u_id","u_token","user","Boolean","hostname","match","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message","module","exports"],"mappings":"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","file":"static/js/main.aa013323.chunk.js","sourcesContent":["import { createBrowserHistory as history} from 'history';\n\nexport default history();","import tokenIsValid, { userFromToken } from \"../utils\";\n\n\n/*-----api request url information-----*/\nlet uri = \"http://127.0.0.1\";\nlet port = 8000;\nlet isInDev = require('../prod.json').inDev;\n\nexport class apiRequest {\n  constructor() {\n    this.xhr = new XMLHttpRequest();\n    this.xhr.withCredentials = true;\n  }\n  \n  open(method, endpoint) {\n    if(isInDev){\n      this.xhr.open(method, `${uri}:${port}${endpoint}`, true);\n    }\n    else{\n      this.xhr.open(method, `${endpoint}`, true);\n    }\n    if(tokenIsValid()){\n      this.xhr.setRequestHeader(\n        \"Authorization\",\n        \"JWT \" + userFromToken().token\n      );\n    }\n  }\n\n  /**\n   *\n   * @param {String} type - options: \"json\", \"formData\"\n   */\n  contentType(type) {\n    if (type === \"json\") {\n      this.xhr.setRequestHeader(\n        \"Content-Type\",\n        \"application/json;charset=UTF-8\"\n      );\n    } else if (type === \"formData\") {\n      // no headers needed\n    }\n  }\n\n  addEventListener(type, func) {\n    this.xhr.addEventListener(type, func);\n  }\n\n  send(data) {\n    if (arguments.length === 0) {\n      this.xhr.send();\n    } else {\n      this.xhr.send(data);\n    }\n  }\n}\n","import jwt_decode from 'jwt-decode';\nimport history from \"./history\";\nimport { apiRequest } from \"./api/apiRequest.js\";\n\nexport default function tokenIsValid() {\n    try {\n        let token =localStorage.getItem('token');\n        let dateNow = new Date();\n        let decodedToken = jwt_decode(token);\n        //if(decodedToken.exp < (dateNow.getTime()/1000 - decodedToken.orig_iat)){\n        if(decodedToken.exp < dateNow.getTime()/1000){\n            localStorage.removeItem('token');\n            return false;\n        }\n        return true;\n    }\n    catch(err) {\n        localStorage.removeItem('token');\n        return false;\n    }\n    \n};\n\nexport function userFromToken() {\n    \n    if(tokenIsValid()){\n        let token =localStorage.getItem('token');\n        let decodedToken = jwt_decode(token);\n        let user = {\n            id : decodedToken.user_id,\n            email : decodedToken.email,\n            token : token,\n        }\n        return user;\n    }\n    history.push('/');\n    window.location.reload();\n    return null;\n};\n\n\n\nexport function getUserProfileAPIRequest(id) {\nlet endpoint = \"/api/persons/\";\n\nlet req = new apiRequest();\nreq.open(\"GET\", `${endpoint}${id}/`);\n\nreq.addEventListener(\"readystatechange\", function () {\n    if (this.readyState === 4) {\n    if (this.status === 200) {\n        let profile = JSON.parse(this.responseText)[0];\n        document.getElementById(\"userNameDisplay\").innerHTML =\n        \"Welcome \" + profile.firstName + \" \" + profile.lastName;\n    }\n    else{\n        localStorage.setItem('token',null);\n        window.location.reload();\n    }\n    }\n});\n\nreq.send();\n}","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\n\nimport \"./ToolDetail.css\";\n\nlet isInDev = require('../../prod.json').inDev;\nlet url = \"http://localhost:8000\";\nif(!isInDev){\n  url = \"\";\n}\n\nconst initialStates = {\n  toolObj: {\n    toolOwner: {\n      id_person: 0,\n      alias: \"\",\n      email: \"\"\n    },\n    id_tool: 0,\n    toolName: \"\",\n    toolDescription: \"\",\n    toolPrice: 0,\n    toolImages: [\n      {\n        id_toolImage: 0,\n        id_tool: 0,\n        image: \"\"\n      }\n    ],\n    reviews: []\n  },\n};\n\nlet toolImageList = [];\n\nclass ToolDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialStates;\n    this.showPopUp = true;\n    this.compUpdated = 0;\n  }\n\n  componentDidMount(){\n    this.getToolApiRequest(this.props.toolId);\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n    if(this.compUpdated === 1){\n      this.getToolApiRequest(this.props.toolId);\n    }\n    this.compUpdated++;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(initialStates);\n    this.compUpdated = 0;\n  };\n\n\n  getToolApiRequest(id){\n    let endpoint = \"/api/tools/\" + id + \"/\";\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let resp = JSON.parse(this.responseText)[0];\n          self.setState({toolObj:resp});\n          toolImageList = [];\n          let key_ti = 0;\n          for (let ti of self.state.toolObj.toolImages){\n            toolImageList.push(<img id=\"ToolDetailImg\" key={key_ti} src={url + ti.image} alt={ti.id_toolImage} ></img>);\n            key_ti ++;\n          }\n          ReactDOM.render(toolImageList, document.getElementById(\"ToolDetailImages\"));\n        }\n      }\n    });\n\n    req.send();\n  }\n\n  openEmailClient(self){\n    let Dst = self.state.toolObj.toolOwner.email;\n    let Sub = `Toolbox-App - ${self.state.toolObj.toolName}`;\n    let Cont = `\n    Dear ${self.state.toolObj.toolOwner.alias},\n    %0D%0A\n    %0D%0A\n    I saw you rent a ${self.state.toolObj.toolName} on the Toolbox-app's website and would like to know if it is still available from .... to .... ?\n    %0D%0A\n    %0D%0A\n    Thank you in advance,\n    %0D%0A\n    %0D%0A\n    Yours sincerely, \n    %0D%0A\n    %0D%0A\n    ....\n    `;\n\n    window.location.href = `mailto:${Dst}?subject=${Sub}&body=${Cont}`;\n    self.closePopUp();\n  }\n\n  render() {\n    let tool = this.state.toolObj;\n    return (\n      <>\n      <Modal id=\"ToolDetailModal\" show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n      >\n      <Modal.Header closeButton>\n        <Modal.Title>Tool Detail</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n          <div id=\"ToolDetailContent\">\n            <div id=\"ToolDetailName\"><h2>{tool.toolName}</h2></div>\n            <div id=\"ToolDetailInfo\">\n              <div>Owner: {tool.toolOwner.alias}</div>\n              <button id=\"ToolDetailBtn\" onClick={()=>this.openEmailClient(this)}>Contact Owner</button>\n              <div>Price: {tool.toolPrice} €</div>\n            </div>\n            <div id=\"ToolDetailDescription\">\n              <div>{tool.toolDescription}</div>\n            </div>\n            <div id=\"ToolDetailImages\"></div>\n          </div>\n      </Modal.Body>\n\n      </Modal>\n      </>\n    );\n  }\n}\n\nexport default ToolDetail;\n\nToolDetail.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  toolId: PropTypes.number.isRequired,\n};\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport { userFromToken } from \"../../utils\";\n\nimport \"./ToolOptions.css\";\n\nconst initialStates = {\n  displayed_groups: [],  \n};\n\nlet user_groups = [];\nlet tool_groups = [];\nlet toChange = {};\n\nclass ToolOptions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialStates;\n    this.showPopUp = true;\n    this.compUpdated = 0;\n  };\n\n  componentDidMount(){\n    this.getUserGroupsApiRequest();\n    this.getToolGroupsApiRequest();\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n    if(this.compUpdated === 1){\n      this.getUserGroupsApiRequest();\n      this.getToolGroupsApiRequest();\n    }\n    this.compUpdated++;\n  };\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(initialStates);\n    this.compUpdated = 0;\n  };\n\n  getUserGroupsApiRequest(){\n    let endpoint = `/api/persons/${userFromToken().id}/groups/`;\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          user_groups = JSON.parse(this.responseText);\n          self.groupsToHtml();\n        }\n      }\n    });\n\n    req.send();\n  };\n\n  getToolGroupsApiRequest(){\n    let endpoint = `/api/tools/${this.props.toolId}/groups/`;\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          tool_groups = JSON.parse(this.responseText);\n          self.groupsToHtml();\n        }\n      }\n    });\n\n    req.send();\n\n  };\n\n  postToolGroupApiRequest(id_group){\n    let endpoint = \"/api/groups/tools/\";\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    //let self = this;\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n        }\n      }\n    });\n\n    let data = {\n      id_tool: this.props.toolId,\n      id_groupName: id_group\n    }\n\n    req.send(JSON.stringify(data));\n  };\n\n\n  deleteToolGroupApiRequest(id_group){\n    let endpoint = `/api/groups/tools/?groupName=${id_group}&id_tool=${this.props.toolId}`;\n    let req = new apiRequest();\n    req.open(\"DELETE\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    //let self = this;\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 204) {\n        }\n      }\n    });\n    req.send();\n  };\n  \n  groupsToHtml(){\n    let groupsHtml = [];\n    let key_g = 0;\n\n    for(let ug of user_groups){\n      let hasTool = <input type=\"checkbox\" id={ug.group.id_groupName} name={ug.group.id_groupName} onChange={this.handleChange}></input>;\n      for(let tg of tool_groups){\n        if(ug.group.id_groupName === tg.group.id_groupName){\n          hasTool = <input type=\"checkbox\" id={ug.group.id_groupName} name={ug.group.id_groupName} defaultChecked onChange={this.handleChange}></input>;\n        }\n      }\n      groupsHtml.push(\n        <div key={key_g}>\n          <label htmlFor={ug.group.id_groupName}>{ug.group.id_groupName}</label>\n          {hasTool}\n        </div>\n      );\n      key_g ++;\n    }\n\n    ReactDOM.render(groupsHtml, document.getElementById(\"toolGroups\"));\n  \n  }\n\n\n  handleChange = (e) => {\n    let target = e.target;\n    let checked = target.checked;\n    let name = target.name;\n    if(checked){\n      if(!(name in toChange)){\n        toChange[name] = true;\n      }\n      else{\n        delete toChange[name];\n      }\n    }\n    else{\n      if(!(name in toChange)){\n        toChange[name] = false;\n      }\n      else{\n        delete toChange[name];\n      }\n    }\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    for(let group in toChange){\n      if(toChange[group]){\n        this.postToolGroupApiRequest(group);\n      }\n      else{\n        this.deleteToolGroupApiRequest(group);\n      }\n    }\n    toChange = {};\n    this.closePopUp();\n  };\n\n  render() {\n    let self = this;\n    return (\n      <>\n      <Modal show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n      >\n      <Modal.Header closeButton>\n        <Modal.Title>Tool Options</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <form className=\"ToolGrousForm\" onSubmit={this.handleSubmit}>\n          <div id=\"toolGroupsInfo\">Choose in what groups your <b>{self.props.toolName}</b> shoud be in :</div>\n          <div id=\"toolGroups\"></div>\n          <div className=\"FormBtns\">\n            <input className=\"FormCancelBtn\" type=\"button\" value=\"Cancel\" onClick={this.closePopUp}/>\n            <input className=\"FormSubmitBtn\" type=\"submit\" value=\"Save\" />\n          </div>\n        </form>\n      </Modal.Body>\n\n      </Modal>\n      </>\n    );\n  }\n}\n\nexport default ToolOptions;\n\nToolOptions.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  toolId: PropTypes.number.isRequired,\n  toolName: PropTypes.string.isRequired,\n};\n","import React, { useRef, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ToolDetail from \"../ToolDetail/ToolDetail.js\";\nimport ToolOptions from \"../ToolOptions/ToolOptions.js\";\n\nimport \"./SlideShow.css\";\nimport \"./Tool.css\";\n\nlet isInDev = require('../../prod.json').inDev;\nlet url = \"http://127.0.0.1:8000\";\nif(!isInDev){\n  url = \"\";\n}\n\nfunction Tool(props) {\n  //pour les images il faudrait pouvoir les faire défiler onHover!!! Ici qu'une seule affichée..\n  let id = useRef();\n  id.current = props.id; \n  let pictures = useRef();\n  pictures.current = props.pictures;\n  let name = useRef();\n  name.current = props.name;\n  let description = useRef();\n  description.current = props.desc;\n  let price = useRef();\n  price.current = props.price; \n  let PopUp = useRef();\n  PopUp.current = props.popUp;\n  \n  useEffect(() => {\n    id.current = props.id;\n    pictures.current = props.pictures;\n    name.current = props.name;\n    description.current = props.desc;\n    price.current = props.price;\n    PopUp.current = props.popUp;\n    showSlides();\n  });\n\n  function displayDetailPopup(idT){\n    let tdl = <ToolDetail showPopUp={true} toolId={idT}/>;\n    ReactDOM.render(tdl, document.getElementById(\"toolPopup\"));\n  }\n\n  function displayGroupsPopup(idT){\n    let tdl = <ToolOptions showPopUp={true} toolId={idT} toolName={name.current}/>;\n    ReactDOM.render(tdl, document.getElementById(\"toolPopup\"));\n  }\n\n  function displayImages(){\n    let imgHtml = [];\n    let key_i = 0;\n    for(let img of pictures.current){\n      imgHtml.push(<img key={key_i} className={`mySlides${id.current}  mySlides`} src={url + img.image} alt={`Tool pic ${img.id_toolImage}`}/>);\n      key_i ++;\n    }\n    return imgHtml;\n  }\n\n  let slideIndex = 0;\n  function showSlides() {\n    let i;\n    let slides = document.getElementsByClassName(`mySlides${id.current}`);\n    for (i = 0; i < slides.length; i++) {\n      slides[i].style.display = \"none\";\n    }\n    slideIndex++;\n    if (slideIndex > slides.length) {slideIndex = 1}\n    try{\n      slides[slideIndex-1].style.display = \"block\";\n    }\n    catch(e){}\n    setTimeout(showSlides, 3000); // Change image every 2 seconds\n  }\n\n\n  return (\n    <div>\n      <div \n        className=\"oneTool\" \n        onClick={ () => {\n            if(PopUp.current === \"detail\"){\n              displayDetailPopup(id.current);\n            }\n            else if (PopUp.current === \"options\"){\n              displayGroupsPopup(id.current);\n            }\n            else {\n              return null;\n            }\n          }\n        } \n      >\n        <div id={`imageTool${id.current}`} className=\"imageTool\">{displayImages()}</div>\n        <div className=\"informTool\">\n          <h4>{name.current}</h4>\n        </div>\n        <div className=\"priceTool\">Price : {price.current} € / day</div>  \n        <div className=\"toolTipText\">{description.current}</div>\n      </div> \n      <div id=\"toolPopup\"></div>\n    </div>\n  );\n\n\n}\n\nexport default Tool;\n\n\n","import React, { useEffect, useRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport tokenIsValid, { userFromToken } from \"../../utils\";\nimport Tool from \"../Tool/Tool.js\";\n\nimport \"./GroupDetail.css\";\n\nfunction GroupDetail(props) {\n  let group = useRef();\n  group.current = props.groupObj;\n  let content = props.content;\n  let toolPopup = useRef();\n  toolPopup.current = \"none\";\n  let groups = [];\n\n  useEffect(() => {\n    group.current = props.groupObj;\n    if(content ===\"profile\"){\n      document.getElementById(\"myGroupProfile\").style.display=\"none\"; \n      document.getElementById(\"profileSection\").innerHTML = \"My Groups - Detail\";\n      document.getElementById(\"groupDetailJoin\").style.display=\"none\";\n      toolPopup.current = \"detail\"; \n    }\n    else{ //searchResult\n      if(tokenIsValid()){\n        //user is connected\n        getMyGroupsApiRequest();\n      }\n      toolPopup.current = \"none\";\n    }\n    document.getElementById(\"GroupDetail\").style.display=\"initial\";\n    try{ReactDOM.render(\"\", document.getElementById(\"GroupDetailTools\"));}\n    catch(e){}\n    getAllTools();\n  });\n\n  function getAllTools(){\n    let endpoint = \"/api/groups/tools/?groupName=\" + group.current.id_groupName;\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let tools = JSON.parse(this.responseText);\n          let toolList = [];\n          let key_t = 999;\n          for (let t in tools) {      \n            key_t++;\n            toolList.push(\n              <Tool \n                key={key_t}\n                pictures={tools[t].tool.toolImages}\n                name={tools[t].tool.toolName}\n                price={tools[t].tool.toolPrice}\n                desc={tools[t].tool.toolDescription}\n                id={tools[t].tool.id_tool}\n                popUp={toolPopup.current}\n              />\n            );\n          }\n          ReactDOM.render(toolList, document.getElementById(\"GroupDetailTools\"));\n        }\n      }\n    });\n\n    req.send();\n\n  }\n  \n  function apiAddMember(user_id, group_id){\n    let data = JSON.stringify({\"id_person\":user_id,\"id_groupName\":group_id,\"groupAdmin\":\"False\"})\n    let endpoint = \"/api/groups/members/\";\n\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n        }\n      }\n    });\n\n    req.send(data);\n  }\n  \n  function getMyGroupsApiRequest(){\n    let endpoint = \"/api/persons/\" + userFromToken().id + \"/groups/\";\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let resp = JSON.parse(this.responseText);\n          groups=resp;\n        }\n      }\n    });\n\n    req.send();\n  }\n\n  function joinGroup () {\n    let joinStatus = document.getElementById(\"joinStatus\")\n    if (tokenIsValid()) {\n      let addG = true;\n      for(let i in groups){\n        if(group.current.id_groupName === groups[i].group.id_groupName){\n          joinStatus.classList.remove('joinOk');\n          joinStatus.classList.add('joinError');\n          ReactDOM.render(\"You're already in that group\", joinStatus);\n          addG=false;\n        }\n      }\n      if(addG){\n        apiAddMember(userFromToken().id,group.current.id_groupName);\n        joinStatus.classList.remove('joinError');\n        joinStatus.classList.add('joinOk');\n        ReactDOM.render(\"Congratulations, you joined this group!\",joinStatus);\n      }\n    } else {\n        joinStatus.classList.remove('joinOk');\n        joinStatus.classList.add('joinError');\n        ReactDOM.render(\"You must be connected to be able to join a group\", joinStatus);\n    }\n  }\n\n  return (\n    <div>\n      <div id=\"GroupDetailComp\">\n        <div id=\"GroupDetailName\">\n          <h1>{group.current.id_groupName}</h1>\n          <h4> Type: {group.current.groupType}</h4>\n          <h4> Location: {group.current.town.townName}</h4>\n          <div id=\"joinDivCont\">\n            <button id=\"groupDetailJoin\" onClick={joinGroup}>Join group</button>\n            <span id=\"joinStatus\"></span>\n          </div>\n        </div>\n        <div id=\"GroupDetailDescription\">{group.current.groupDescription}</div>\n        <div id=\"GroupDetailTools\"></div>\n      </div>\n      <div id=\"ToolDetail\"></div>\n    </div>\n    );\n}\n\nexport default GroupDetail;","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Table } from \"react-bootstrap\";\nimport GroupDetail from \"../GroupDetail/GroupDetail.js\";\n\nimport \"./SearchResult.css\";\n\nclass SearchResult extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data,\n    };\n  }\n\n  displayGroupDetail = (group)=>{\n    let gpD = <GroupDetail groupObj={group} content={'searchResult'}/>;\n    ReactDOM.render(gpD, document.getElementById(\"homeGroupDetail\"));\n  }\n\n  componentDidMount = () => {\n    let tabData = this.state.data;\n    let tabBody = [];\n    for (let i in tabData) {\n      tabBody.push(\n        <tr key={i} onClick={() => this.displayGroupDetail(tabData[i])}><td>\n        {tabData[i].id_groupName}\n        </td><td>\n        {tabData[i].groupType}\n        </td><td>\n        {tabData[i].groupDescription}\n        </td><td>\n        {tabData[i].town.townName}\n        </td></tr>)\n    }\n    ReactDOM.render(tabBody,document.getElementById(\"data\"));    \n  };\n\n  render() {\n    return (\n      <div className=\"groupHasTool\">\n        <Table striped bordered hover variant=\"dark\">\n          <thead>\n            <tr>\n              <th>Group Name</th>\n              <th>Group Type</th>\n              <th>Group Description</th>\n              <th>Town</th>\n            </tr>\n          </thead>\n          <tbody id=\"data\"></tbody>\n        </Table>\n        <div id=\"GroupDetail\"></div>\n      </div>\n    );\n  }\n}\n\nexport default SearchResult;\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from \"google-maps-react\";\nimport GroupDetail from \"../GroupDetail/GroupDetail.js\";\n\nimport \"./Map.css\";\n\nconst mapStyles = {\n  width: '100%',\n  height: '100%',\n};\n\n\nexport class MapContainer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showingInfoWindow: false, //Hides or shows InfoWindows\n      activeMarker: {},         // Show active marker on click\n      selectedPlace: {},        //show infowindow of selected marker\n    };\n    this.showPopUp = true;\n  }\n\n  displayGroupDetail = (group)=>{\n    let gpD = <GroupDetail groupObj={group} content={'searchResult'}/>;\n    ReactDOM.render(gpD, document.getElementById(\"homeGroupDetail\"));\n  }\n\n  onMarkerClick = (props, marker, e) => {\n    this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true,\n    });\n  };\n\n  onClose = (props) => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null,\n      });\n    }\n  };\n\n  markers() {\n    let markers = [];\n    let key_m = 0;\n    for (let g of this.props.data){\n      key_m ++;\n      markers.push(\n        <Marker\n          key={key_m}\n          title={g.id_groupName}\n          description={g.groupDescription}\n          position={{lat: g.town.lat, lng: g.town.lng}}\n          onClick={() => this.displayGroupDetail(g)}\n          //onHover={this.onMarkerClick}\n        />\n      );\n    }\n    if(markers[0] != null){return markers};\n    return null;\n  }\n\n  center(){\n    if(this.props.data[0] != null){\n      return{\n        lat: this.props.data[0].town.lat,\n        lng: this.props.data[0].town.lng,\n      }\n    }\n    return {\n      lat: 50.844041,\n      lng: 4.367202,\n    };\n  }\n\n  render() {\n    return (\n      <Map\n        style={mapStyles}\n        google={this.props.google}\n        zoom={10}\n        initialCenter={this.center()}\n        center={this.center()}\n      >\n        {this.markers()}\n        <InfoWindow\n          marker={this.state.activeMarker}\n          visible={this.state.showingInfoWindow}\n          onClose={this.onClose}\n        >\n          <div className=\"mapInfoWindow\">\n            <h4>{this.state.selectedPlace.title}</h4>\n            <div>{this.state.selectedPlace.description}</div>\n          </div>\n        </InfoWindow>\n      </Map>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyDW1S7ntQGxHWHtUU0KWG61Qc0tR-bo1Mk\",\n})(MapContainer);\n","import React, { Component } from \"react\";\nimport { Form /*Col*/ } from \"react-bootstrap\";\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport SearchResult from \"../SearchResult/SearchResult.js\";\nimport Map from \"../Map/Map.js\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./FindTools.css\";\n\n\nclass FindTools extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      townList: [],\n      toolList: [],\n      toolName: \"\",\n      townName: \"\",\n    };\n  }\n\n  componentDidMount(){\n    this.getAllTownsApiRequest();\n    this.getAllToolsApiRequest();\n  }\n\n  getAllTownsApiRequest(){\n    let endpoint = `/api/towns/`;\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let rep = JSON.parse(this.responseText);\n          let onlyOnce = [];\n          for(let e of rep){\n              if (!onlyOnce.includes(e.townName)){\n                  onlyOnce.push(e.townName);\n              }\n          }\n          onlyOnce.sort(function (a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase());\n        });\n          self.setState({townList: onlyOnce});\n        }\n      }\n    });\n\n    req.send();\n  };\n\n  getAllToolsApiRequest(){\n    let endpoint = `/api/tools/`;\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) { \n          let rep = JSON.parse(this.responseText);\n          let onlyOnce = [];\n          for(let e of rep){\n              if (!onlyOnce.includes(e.toolName)){\n                  onlyOnce.push(e.toolName);\n              }\n          }\n          onlyOnce.sort(function (a, b) {\n            return a.toLowerCase().localeCompare(b.toLowerCase());\n        });\n          self.setState({toolList: onlyOnce});\n        }\n      }\n    });\n\n    req.send();\n  };\n\n\n  apiFindTools = () => {\n    let self = this;\n    let endpoint =\n      \"/api/search/?what='\" +\n      self.state.toolName +\n      \"'&where='\" +\n      self.state.townName +\n      \"'\";\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let rep = JSON.parse(this.responseText);\n          let onlyOnce = [];\n          for(let g of rep){\n            let isAlreadyIn = false;\n            for(let go of onlyOnce){\n              if(g.id_groupName === go.id_groupName){\n                isAlreadyIn = true;\n                break;\n              }\n            }\n            if(!isAlreadyIn){\n              onlyOnce.push(g);\n            }\n          }\n          if (rep.length !== 0) {\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"homeGroupDetail\"));\n            ReactDOM.render(\n              <SearchResult data={onlyOnce} />,\n              document.getElementById(\"list\")\n            );\n            ReactDOM.render(\n              <Map data={onlyOnce} />,\n              document.getElementById(\"searchMap\")\n            );\n          }\n          else{\n            ReactDOM.unmountComponentAtNode(document.getElementById(\"homeGroupDetail\"));\n            ReactDOM.render(\n              <div className=\"noResults\">No Results</div>,\n              document.getElementById(\"list\")\n            );\n            ReactDOM.render(\n              <Map data={onlyOnce} />,\n              document.getElementById(\"searchMap\")\n            );\n          }\n        }\n      }\n    });\n\n    req.send();\n  };\n\n  handleSubmit = (e) => {\n    ReactDOM.render(\" \",document.getElementById(\"list\"));\n    e.preventDefault();\n    this.apiFindTools();\n  };\n\n  render() {\n    return (\n      <div className=\"searchForm\">\n        <h1 className=\"formTitle\">Find nearby tools</h1>\n        <Form className=\"baseForm\" noValidate validated={this.state.validated}>\n          <Form.Group>\n            <Form.Label>Which tool?</Form.Label>\n            <Typeahead\n              id=\"whatInput\"\n              onChange={selected => {\n                                      try{ this.setState({ toolName: selected[0] })}\n                                      catch(e){}\n                                    }\n                        }\n              labelKey=\"toolName\"\n              options={this.state.toolList}\n              placeholder=\"Wrench, saw, screwdriver, ...\"\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Where?</Form.Label>\n            <Typeahead\n              id=\"whereInput\"\n              onChange={selected => {\n                            try{ this.setState({ townName: selected[0] })}\n                            catch(e){}\n                          }\n              }\n              labelKey=\"townName\"\n              options={this.state.townList}\n              placeholder=\"Select a city by name\"\n            />\n          </Form.Group>\n\n          <div className=\"searchButtonContainer\">\n            <button\n              className=\"searchButton\"\n              type=\"submit\"\n              onClick={this.handleSubmit}\n            >\n              Search\n            </button>\n          </div>\n        </Form>\n      </div>\n    );\n  }\n}\n\nexport default FindTools;\n","import React from \"react\";\nimport FindTools from \"../../components/FindTools/FindTools.js\";\nimport \"./Home.css\";\n\n\nexport default function Home() {\n\n  return (\n    <div className=\"Home\">\n      <div id=\"homeContentWrapper\">\n        <div id=\"homeSearch\">\n          <div className=\"SearchFrom\">\n            <FindTools />\n          </div>\n          <div className=\"searchList\" id=\"list\"></div>\n        </div>\n        <div id=\"homeGroupDetail\"></div>\n        <div id=\"searchMap\"></div>\n      </div>\n    </div>\n  );\n}\n\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport { userFromToken } from \"../../utils\";\nimport { Modal } from \"react-bootstrap\";\nimport \"./CreateGroup.css\";\n\nconst initialStates = {\n  groupName: \"\",\n  groupDescription: \"\",\n  groupType: \"private\",\n  groupCountry: \"\",\n  groupTown: \"\",\n  groupRange: 50,\n};\n\nclass CreateGroup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialStates;\n    this.showPopUp = true;\n  }\n\n  componentDidMount() {\n    this.getAllCountriesApiRequest();\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(initialStates);\n  };\n\n\n  getAllCountriesApiRequest(){\n    let endpoint =\"/api/countries/\";\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let countryOptions = JSON.parse(this.responseText);\n          let countrySelectHtml = \"\";\n          for (let c of countryOptions){\n            countrySelectHtml += `<option value=${c.id_countryCode}>${c.countryName}</option>`\n          }\n          document.getElementById(\"groupCountrySelect\").innerHTML = countrySelectHtml;\n          self.getAllTownsApiRequest(countryOptions[0].id_countryCode);\n        }\n        if (this.status === 404) {\n          //TODO\n        }\n      }\n    });\n  \n    req.send();\n  }\n\n  getAllTownsApiRequest(countryId){\n    let endpoint =`/api/towns/?countryCode=${countryId}`;\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n  \n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let townOptions = JSON.parse(this.responseText);\n          let townSelectHtml = \"\";\n          for (let t of townOptions){\n            townSelectHtml += `<option value=${t.id_town}>${t.townName}</option>`\n          }\n          document.getElementById(\"groupTownSelect\").innerHTML = townSelectHtml;\n          self.setState({groupTown:townOptions[0].id_town});\n        }\n        if (this.status === 404) {\n          //TODO\n        }\n      }\n    });\n  \n    req.send();\n  }\n\n  postGroupApiRequest(data){\n      let endpoint = \"/api/groups/\";\n      let req = new apiRequest();\n      req.open(\"POST\", `${endpoint}`);\n      req.contentType(\"json\");\n  \n      let self = this;\n\n      req.addEventListener(\"readystatechange\", function () {\n        if (this.readyState === 4) {\n          if (this.status === 201) {\n            let memberData = {\n              id_person: userFromToken().id,\n              id_groupName: JSON.parse(this.responseText).id_groupName,\n              groupAdmin: true,\n            }\n            self.postGroupMemberApiRequest(JSON.stringify(memberData));\n          }\n          else if (this.status === 400){\n            document.getElementById(\"GrounNameError\").style.display=\"block\";\n          }\n        }\n      });\n      req.send(data);\n  };\n\n  postGroupMemberApiRequest(data){\n    let endpoint = \"/api/groups/members/\";\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n          self.props.refreshGroupList();\n          self.closePopUp();\n        }\n      }\n    });\n    req.send(data);\n  }\n\n  \n  handleChange = (e) => {\n    let target = e.target;\n    let value = target.value;\n    let name = target.name;\n\n    if(name === \"groupCountry\"){\n      this.getAllTownsApiRequest(value);\n    }\n    else{\n      this.setState({\n        [name]: value,\n      });\n    }\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let data = {\n      id_groupName: this.state.groupName,\n      groupType: this.state.groupType,\n      groupDescription: this.state.groupDescription,\n      groupRange: this.state.groupRange,\n      id_town: this.state.groupTown,\n    };\n    this.postGroupApiRequest(JSON.stringify(data));\n  };\n\n  render() {\n    let self = this;\n    return (\n      <>\n      <Modal show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n      >\n      <Modal.Header closeButton>\n        <Modal.Title>Create new group</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n          <form className=\"addToolForm\" onSubmit={this.handleSubmit}>\n            <label className=\"FormField_Label\" htmlFor=\"groupName\">\n              Name of your group\n            </label>\n            <input\n              required\n              type=\"text\"\n              className=\"FormField_Input\"\n              name=\"groupName\"\n              placeholder=\"Enter the name of your group\"\n              onChange={this.handleChange}\n            />\n\n            <label className=\"FormField_Label\" htmlFor=\"groupDescription\">\n              Group Description\n            </label>\n            <textarea\n              type=\"text\"\n              className=\"FormField_TextArea\"\n              name=\"groupDescription\"\n              onChange={this.handleChange}\n            />\n        \n            <label className=\"FormField_Label\" htmlFor=\"groupType\">\n              Group Type\n            </label>\n            <select defaultValue={self.state.groupType} name=\"groupType\" onChange={this.handleChange}>\n              <option value=\"private\">Private</option>\n              <option value=\"public\">Public</option>\n            </select>\n\n            <div id=\"CreateGrouplocation\">\n              <div>\n                <label className=\"FormField_Label\" htmlFor=\"groupCountry\">\n                  Country\n                </label>\n                <select id=\"groupCountrySelect\" name=\"groupCountry\" onChange={this.handleChange}>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"FormField_Label\" htmlFor=\"groupTown\">\n                  Town\n                </label>\n                <select id=\"groupTownSelect\" name=\"groupTown\" onChange={this.handleChange}>\n                </select>\n              </div>\n            </div>\n        \n            <div id=\"GrounNameError\" className=\"error\">The group-name you chose is already taken!</div>\n\n            <div className=\"FormBtns\">\n              <input className=\"FormCancelBtn\" type=\"button\" value=\"Cancel\" onClick={this.closePopUp}/>\n              <input className=\"FormSubmitBtn\" type=\"submit\" value=\"Create group\"/>\n            </div>\n          </form>\n      </Modal.Body>\n\n      </Modal>\n      </>\n    );\n  }\n}\n\nexport default CreateGroup;\n\nCreateGroup.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  refreshGroupList: PropTypes.func.isRequired,\n};","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport { userFromToken } from \"../../utils\";\nimport CreateGroup from \"../CreateGroup/CreateGroup.js\";\nimport GroupDetail from \"../GroupDetail/GroupDetail.js\";\nimport { Table } from \"react-bootstrap\";\nimport \"./MyGroups.css\";\n\nfunction MyGroups() {\n\n  useEffect(() => {\n    document.getElementById(\"myGroupProfile\").style.display=\"initial\";\n    document.getElementById(\"GroupDetail\").style.display=\"none\";\n    getMyGroupsApiRequest();\n    document.getElementById(\"profileSection\").innerHTML = \"My Groups\";\n  });\n\n  function getMyGroupsApiRequest(){\n    let endpoint = \"/api/persons/\" + userFromToken().id + \"/groups/\";\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let resp = JSON.parse(this.responseText);\n          displayGroups(resp);\n        }\n      }\n    });\n\n    req.send();\n  }\n\n  function displayGroupDetail(group){\n    let gpD = <GroupDetail groupObj={group} content={'profile'}/>;\n    ReactDOM.render(gpD, document.getElementById(\"GroupDetail\"));\n  }\n\n  function displayGroups(tabData){\n    let tabBody = [];\n    let key_g = 0;\n    for (let g of tabData) {\n      key_g ++;\n      let admin = (g.groupAdmin)? \"yes\": \"No\";\n      tabBody.push(\n        <tr key={key_g} onClick={() => displayGroupDetail(g.group)}>\n          <td>{admin}</td>\n          <td>{g.group.id_groupName}</td>\n          <td>{g.group.groupType}</td>\n          <td>{g.group.town.townName}</td>\n        </tr>\n      );\n    };\n    ReactDOM.render(tabBody, document.getElementById(\"content\"));\n  }\n\n  function refreshGroupList(){\n    getMyGroupsApiRequest();\n  }\n\n  function displayPopup(){\n    let p = <CreateGroup showPopUp={true} refreshGroupList={refreshGroupList}/>;\n    ReactDOM.render(p, document.getElementById(\"newGroupPopup\"));\n  }\n\n  \n  return (\n    <div>\n      <div id=\"myGroupProfile\">\n        <button id=\"newGroupBtn\" onClick={displayPopup}>Create new Group</button>\n        <div id=\"newGroupPopup\"></div>\n        <Table striped bordered hover variant=\"dark\">\n          <thead>\n            <tr>\n              <th>\n                <span id=\"tbHGroupAdmin\" className=\"tableHead\">Admin</span>\n              </th>\n              <th>\n                <span id=\"tbHGroupName\" className=\"tableHead\">Name</span>\n              </th>\n              <th>\n                <span id=\"tbHGroupType\" className=\"tableHead\">Type</span>\n              </th>\n              <th>\n                <span id=\"tbHGroupLocation\" className=\"tableHead\">Location</span>\n              </th>\n            </tr>\n          </thead>\n          <tbody id=\"content\"></tbody>\n        </Table>\n      </div>\n      <div id=\"GroupDetail\">\n      </div>\n    </div>\n  );\n}\n\nexport default MyGroups;\n\n\n/* TRI - mis de coté pour le moment\n  //pour le sort il faudrait refresh le component une fois sorted!\n  function compare(a, b) {\n    //if a & b are numbers\n    if (!isNaN(a) && !isNaN(b)) {\n      return a - b;\n    } //if a & b are strings\n    else {\n    }\n  }\n  function sortTab(col, sens, toSort) {\n    if ((col === 3) & (sens === \"asc\")) {\n      return compare();\n    }\n  }\n\n<div className=\"sortButtons\">\n  <span onClick={sortTab(0, \"asc\", tabData)}>▲</span>\n  <span onClick={sortTab(0, \"desc\", tabData)}>▼</span>\n</div>\n*/\n\n            ","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport { userFromToken } from \"../../utils\";\nimport addimg from \"./addimg.png\";\n\nimport \"./AddTools.css\";\n\nconst initialStates = {\n  toolName: \"\",\n  toolDescription: \"\",\n  price: 0.00,\n  typeOfRent: \"\",\n  pictures: [],\n};\n\nlet pictures_preview = [addimg,addimg,addimg,addimg,addimg];\n\n/**\n *This component is used to register the information about a new tool added by\n * the user on the database. He must enter the tool name,\n * select a type of renting (by default it's per day), a currency and the price.\n * He can also add a description of the tool and pictures of it.\n * @param\n */\nclass AddTools extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialStates;\n    this.showPopUp = true;\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(initialStates);\n    pictures_preview = [addimg,addimg,addimg,addimg,addimg];\n  };\n\n  addToolApi = (user_id, data) => {\n    let endpoint = \"/api/persons/\" + user_id + \"/tools/\";\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    let self = this;\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n          let toolId = JSON.parse(this.responseText).id_tool;\n          let dataImages = new FormData();\n          for( let img of self.state.pictures){\n            dataImages.append(\"image\", img, img.name);\n            self.addToolImagesApi(toolId,dataImages);\n          }\n        }\n      }\n    });\n    req.send(data);\n  };\n\n  addToolImagesApi = (tool_id, data) => {\n    let endpoint = \"/api/tools/\" + tool_id + \"/images/\";\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"formData\");\n\n    let self = this;\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n          self.props.refreshToolList();\n        }\n      }\n    });\n    req.send(data);\n  };\n\n  handleChange = (e) => {\n    let target = e.target;\n    let value = target.type === \"file\" ? target.files[0] : target.value;\n    let name = target.name;\n    if(target.type === \"file\"){\n      let imgPos = parseInt(name.slice(-1))-1;\n      pictures_preview[imgPos] = URL.createObjectURL(value);\n      const prevPictures = this.state.pictures;\n      prevPictures[imgPos] = value;\n      this.setState({ pictures: prevPictures });\n    }\n    else{\n      this.setState({\n        [name]: value,\n      });\n    }\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let dataTool = {\n      toolName: this.state.toolName,\n      toolDescription: this.state.toolDescription,\n      toolPrice: this.state.price,\n    };\n    if(this.state.pictures.length === 0){\n      document.getElementById(\"imgError\").style.display=\"block\";\n    }\n    else{\n      this.addToolApi(userFromToken().id, JSON.stringify(dataTool));\n      this.closePopUp();\n    }\n  };\n\n  render() {\n    return (\n      <>\n      <Modal show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n      >\n      <Modal.Header closeButton>\n        <Modal.Title>Add new tool</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <form className=\"addToolForm\" onSubmit={this.handleSubmit}>\n          <label className=\"FormField_Label\" htmlFor=\"toolName\">\n            Tool Name\n          </label>\n          <input\n            required\n            type=\"text\"\n            className=\"FormField_Input\"\n            name=\"toolName\"\n            placeholder=\"Enter the tool name\"\n            onChange={this.handleChange}\n          />\n\n          <label className=\"FormField_Label\" htmlFor=\"toolDescription\">\n            Tool Description\n          </label>\n          <textarea\n            type=\"text\"\n            className=\"FormField_TextArea\"\n            name=\"toolDescription\"\n            onChange={this.handleChange}\n          />\n          \n          <div className=\"FormRow\">\n            <div>\n              <label className=\"FormField_Label\" htmlFor=\"price\">\n                Price\n              </label>\n              <div id=\"priceInput\">\n                <input\n                  className=\"FormField_Input\"\n                  required\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"99999.99\"\n                  step=\"0.01\"\n                  name=\"price\"\n                  placeholder=\"0.00\"\n                  onChange={this.handleChange}\n                />\n                <div>€/day</div>\n              </div>\n            </div>\n\n            {/*<div>  \n              <label className=\"FormField_Label\" htmlFor=\"typeOfRent\">\n                Type of renting\n              </label>\n              <select defaultValue=\"Per day\" name=\"typeOfRent\">\n                <option value=\"Per hours\">Per hours</option>\n                <option value=\"Per day\">Per day</option>\n                <option value=\"Per week\">Per week</option>\n                <option value=\"Per month\">Per month</option>\n              </select>\n            </div>*/}\n          </div>\n          \n          <label className=\"FormField_Label\">Tool Images</label>\n          <div className=\"FormImgsDrop\">\n            <label htmlFor=\"picture_1\">\n              <img className=\"addImgBtn\" src={pictures_preview[0]} alt=\"add_image\"/>\n              <input\n                type=\"file\"\n                id=\"picture_1\"\n                name=\"picture_1\"\n                style={{visibility:\"hidden\"}}\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"picture_2\">\n              <img className=\"addImgBtn\" src={pictures_preview[1]} alt=\"add_image\"/>\n              <input\n                type=\"file\"\n                id=\"picture_2\"\n                name=\"picture_2\"\n                style={{visibility:\"hidden\"}}\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"picture_3\">\n              <img className=\"addImgBtn\" src={pictures_preview[2]} alt=\"add_image\"/>\n              <input\n                type=\"file\"\n                id=\"picture_3\"\n                name=\"picture_3\"\n                style={{visibility:\"hidden\"}}\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"picture_4\">\n              <img className=\"addImgBtn\" src={pictures_preview[3]} alt=\"add_image\"/>\n              <input\n                type=\"file\"\n                id=\"picture_4\"\n                name=\"picture_4\"\n                style={{visibility:\"hidden\"}}\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"picture_5\">\n              <img className=\"addImgBtn\" src={pictures_preview[4]} alt=\"add_image\"/>\n              <input\n                type=\"file\"\n                id=\"picture_5\"\n                name=\"picture_5\"\n                style={{visibility:\"hidden\"}}\n                onChange={this.handleChange}\n              />\n            </label>            \n          </div>\n\n          <div id=\"imgError\" className=\"error\">You must upload at least one image!</div>\n\n          <div className=\"FormBtns\">\n            <input className=\"FormCancelBtn\" type=\"button\" value=\"Cancel\" onClick={this.closePopUp}/>\n            <input className=\"FormSubmitBtn\" type=\"submit\" value=\"Add tool\" />\n          </div>\n        </form>\n      </Modal.Body>\n\n      </Modal>\n      </>\n    );\n  }\n}\n\nexport default AddTools;\n\nAddTools.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  refreshToolList: PropTypes.func.isRequired,\n};","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport Tool from \"../Tool/Tool.js\";\nimport AddTools from \"../AddTools/AddTools.js\";\nimport \"./MyTools.css\";\n\n\nfunction MyTools(props) {\n  const [user_id] = useState(props.user_id);\n\n  function refreshToolList(){\n    getMyToolsApi(user_id);\n  }\n\n  function getMyToolsApi(id_pers) {\n    let endpoint = \"/api/persons/\" + id_pers + \"/tools/\";\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    function displayPopup(){\n      let p = <AddTools showPopUp={true} refreshToolList={refreshToolList}/>;\n      ReactDOM.render(p, document.getElementById(\"MyToolsPopup\"));\n    }\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let resp = JSON.parse(this.responseText);\n          let key_y = 999;\n          let toolList = [\n            <button key={key_y} className=\"oneTool\" id=\"addOneTool\" onClick={displayPopup}>\n              Add new tool\n            </button>,\n          ];\n          \n          for (let i in resp) {      \n            key_y++;\n            toolList.push(\n              <Tool \n                key={key_y}\n                pictures={resp[i].toolImages}\n                name={resp[i].toolName}\n                price={resp[i].toolPrice}\n                desc={resp[i].toolDescription}\n                id={resp[i].id_tool}\n                popUp=\"options\"\n              />\n            );\n          }\n          ReactDOM.render(toolList, document.getElementById(\"MyToolsCont\"));\n        }\n      }\n    });\n\n    req.send();\n  };\n\n  document.getElementById(\"profileSection\").innerHTML = \"My Tools\";\n  getMyToolsApi(user_id);\n\n  return (\n    <>\n    <div id=\"MyToolsCont\"></div>\n    <div id=\"MyToolsPopup\"></div>\n    </>\n  );\n}\n\nexport default MyTools;\n","import React, { useEffect } from \"react\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\nimport { userFromToken } from \"../../utils\";\nimport \"./MyProfile.css\";\nimport nut from \"../../nut.svg\";\n\nfunction MyProfile(props){\n    //const [user] = useState(props.user_id);\n        \n    useEffect(() => {\n        getProfile();\n        document.getElementById(\"profileSection\").innerHTML = \"My Profile\";\n    });\n\n\n    function getProfile(){\n        let endpoint = \"/api/persons/\" + userFromToken().id +\"/\";\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let resp = JSON.parse(this.responseText);\n          displayProfile(resp[0]);\n        }\n      }\n    });\n\n    req.send();\n    }\n\n    function displayProfile(data_profile){\n        document.getElementById(\"name\").innerHTML = data_profile.firstName + \" \"+ data_profile.lastName;\n        document.getElementById(\"alias\").innerHTML = \"Alias : \"+data_profile.alias;\n        document.getElementById(\"birthDate\").innerHTML = data_profile.birthDate;\n        document.getElementById(\"email\").innerHTML = data_profile.email;\n    }\n\n    return(\n        <div className=\"wrapper_myProfile\">\n          <div className=\"container_myProfile\">\n            <div className=\"img_myProfileContainer\">\n              <img src={nut} alt=\"here\" className=\"img_myProfile\" />\n            </div>\n            <div className=\"content_myProfile\">\n              <div className=\"subContent_myProfile\">\n                <h1 id=\"name\">Loading...</h1>\n                <span id=\"alias\"></span>\n                <br/>\n                <span id=\"email\"></span>\n                <div id=\"birthDate\"></div>\n                <button className=\"button_myProfile\">Change my profile informations</button>\n              </div>\n            </div>\n          </div>\n        </div>\n    );\n}\nexport default MyProfile;","import React, { Component } from \"react\";\nimport tokenIsValid, { userFromToken } from \"../../utils\";\nimport history from \"../../history\";\nimport MyGroups from \"../../components/MyGroups/MyGroups.js\";\nimport MyTools from \"../../components/MyTools/MyTools.js\";\nimport MyProfile from \"../../components/MyProfile/MyProfile.js\";\n\nimport \"./Profile.css\";\nimport ReactDOM from \"react-dom\";\n/**\n * This page is used to display the account informations\n * of the member.\n */\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user_id: 0,\n    };\n  }\n\n  componentDidMount() {\n    if (tokenIsValid()) {\n      //pass\n    } \n    else {\n      history.push(\"/\");\n    }\n  }\n\n  componentDidUpdate() {\n    if (tokenIsValid()) {\n      //pass\n    } \n    else {\n      history.push(\"/\");\n    }\n  }\n\n  getMyGroupsApi(id_pers){\n    if (tokenIsValid()) {\n      let groupList= <MyGroups/>\n      ReactDOM.render(groupList, document.getElementById(\"profileContentDisplay\"));\n    } else {\n      history.push(\"/\");\n    }\n  };\n\n  displayMyTools(id_pers){\n    if (tokenIsValid()) {\n      let toolList= <MyTools user_id={id_pers} />\n      ReactDOM.render(toolList, document.getElementById(\"profileContentDisplay\"));\n    } else {\n      history.push(\"/\");\n    }\n  }\n\n  getMyProfileApi= (id_pers) =>{\n    if (tokenIsValid()) {\n      let profileInfos= <MyProfile user_id={id_pers}/>\n      ReactDOM.render(profileInfos, document.getElementById(\"profileContentDisplay\"));\n    } else {\n      history.push(\"/\");\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Profile\" id=\"main\">\n        <div id=\"profileContentWrapper\">\n          <div id=\"navBar\">\n            <button onClick={() => this.displayMyTools(userFromToken().id)}>My Tools</button>\n            <button onClick={() => this.getMyGroupsApi(userFromToken().id)}>My Groups</button>\n            <button onClick={() => this.getMyProfileApi(userFromToken().id)}>My Profile</button>\n          </div>\n          <div id=\"profileContent\">\n            <div id=\"profileTitle\"> \n              <h1 id=\"profileSection\"> </h1>\n            </div>\n            <div id=\"profileContentDisplay\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Profile;","import React, { Component } from \"react\";\nimport \"./Help.css\";\n\nclass Help extends Component {\n  render() {\n    return (\n      <div className=\"Help\">\n        <div className=\"HelpContentWrapper\">\n          <h1> Help Page </h1>\n          <section>This part of the application is in construction</section>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Help;\n","import React, { Component } from \"react\";\nimport \"./Contact.css\";\n\nclass Contact extends Component {\n  render() {\n    return (\n      <div className=\"Contact\">\n        <h2>HE201649@students.ephec.be</h2>\n      </div>\n    );\n  }\n}\n\nexport default Contact;\n","import React, { Component } from \"react\";\nimport \"./AboutUs.css\";\n\nclass AboutUs extends Component {\n  render() {\n    return (\n      <div className=\"AboutUs\">\n        <h1>\n          We're student from EPHEC. <br />\n          And this is our project\n        </h1>\n        <div className=\"Photos\">Here will be displayed the photos of us 3.</div>\n      </div>\n    );\n  }\n}\n\nexport default AboutUs;\n","import React, { Component } from \"react\";\nimport \"./Terms.css\";\n\nclass Terms extends Component {\n  render() {\n    return (\n      <div className=\"Term\">\n        <h1>Terms and Conditions</h1>\n\n        <p>Last updated: April 18, 2020</p>\n\n        <p>\n          Please read these terms and conditions carefully before using Our\n          Service.\n        </p>\n\n        <h1>Interpretation and Definitions</h1>\n        <h2>Interpretation</h2>\n        <p>\n          The words of which the initial letter is capitalized have meanings\n          defined under the following conditions.\n        </p>\n        <p>\n          The following definitions shall have the same meaning regardless of\n          whether they appear in singular or in plural.\n        </p>\n\n        <h2>Definitions</h2>\n        <p>For the purposes of these Terms and Conditions:</p>\n        <ul>\n          <li>\n            <strong>Affiliate</strong> means an entity that controls, is\n            controlled by or is under common control with a party, where\n            \"control\" means ownership of 50% or more of the shares, equity\n            interest or other securities entitled to vote for election of\n            directors or other managing authority.\n          </li>\n          <li>\n            <strong>Company</strong> (referred to as either \"the Company\", \"We\",\n            \"Us\" or \"Our\" in this Agreement) refers to ToolBox.\n          </li>\n          <li>\n            <strong>Country</strong> refers to: Belgium\n          </li>\n          <li>\n            <strong>Service</strong> refers to the Website.\n          </li>\n          <li>\n            <strong>Terms and Conditions</strong> (also referred as \"Terms\")\n            mean these Terms and Conditions that form the entire agreement\n            between You and the Company regarding the use of the Service. This\n            Terms and Conditions agreement as been created with the help of{\" \"}\n            <a href=\"https://www.termsfeed.com/terms-conditions-generator/\">\n              Terms and Conditions Generator\n            </a>\n            .\n          </li>\n          <li>\n            <strong>Third-party Social Media Service</strong> means any services\n            or content (including data, information, products or services)\n            provided by a third-party that may be displayed, included or made\n            available by the Service.\n          </li>\n          <li>\n            <strong>Website</strong> refers to ToolBox, accessible from\n            localhost\n          </li>{\" \"}\n          <li>\n            <strong>You</strong> means the individual accessing or using the\n            Service, or the company, or other legal entity on behalf of which\n            such individual is accessing or using the Service, as applicable.\n          </li>\n        </ul>\n\n        <h1>Acknowledgement</h1>\n        <p>\n          These are the Terms and Conditions governing the use of this Service\n          and the agreement that operates between You and the Company. These\n          Terms and Conditions set out the rights and obligations of all users\n          regarding the use of the Service.\n        </p>\n        <p>\n          Your access to and use of the Service is conditioned on Your\n          acceptance of and compliance with these Terms and Conditions. These\n          Terms and Conditions apply to all visitors, users and others who\n          access or use the Service.\n        </p>\n        <p>\n          By accessing or using the Service You agree to be bound by these Terms\n          and Conditions. If You disagree with any part of these Terms and\n          Conditions then You may not access the Service.\n        </p>\n        <p>\n          Your access to and use of the Service is also conditioned on Your\n          acceptance of and compliance with the Privacy Policy of the Company.\n          Our Privacy Policy describes Our policies and procedures on the\n          collection, use and disclosure of Your personal information when You\n          use the Application or the Website and tells You about Your privacy\n          rights and how the law protects You. Please read Our Privacy Policy\n          carefully before using Our Service.\n        </p>\n\n        <h1>Links to Other Websites</h1>\n        <p>\n          Our Service may contain links to third-party web sites or services\n          that are not owned or controlled by the Company.\n        </p>\n        <p>\n          The Company has no control over, and assumes no responsibility for,\n          the content, privacy policies, or practices of any third party web\n          sites or services. You further acknowledge and agree that the Company\n          shall not be responsible or liable, directly or indirectly, for any\n          damage or loss caused or alleged to be caused by or in connection with\n          the use of or reliance on any such content, goods or services\n          available on or through any such web sites or services.\n        </p>\n        <p>\n          We strongly advise You to read the terms and conditions and privacy\n          policies of any third-party web sites or services that You visit.\n        </p>\n\n        <h1>Termination</h1>\n        <p>\n          We may terminate or suspend Your access immediately, without prior\n          notice or liability, for any reason whatsoever, including without\n          limitation if You breach these Terms and Conditions.\n        </p>\n        <p>\n          Upon termination, Your right to use the Service will cease\n          immediately.\n        </p>\n\n        <h1>Limitation of Liability</h1>\n        <p>\n          Notwithstanding any damages that You might incur, the entire liability\n          of the Company and any of its suppliers under any provision of this\n          Terms and Your exclusive remedy for all of the foregoing shall be\n          limited to the amount actually paid by You through the Service or 100\n          USD if You haven't purchased anything through the Service.\n        </p>\n        <p>\n          To the maximum extent permitted by applicable law, in no event shall\n          the Company or its suppliers be liable for any special, incidental,\n          indirect, or consequential damages whatsoever (including, but not\n          limited to, damages for loss of profits, loss of data or other\n          information, for business interruption, for personal injury, loss of\n          privacy arising out of or in any way related to the use of or\n          inability to use the Service, third-party software and/or third-party\n          hardware used with the Service, or otherwise in connection with any\n          provision of this Terms), even if the Company or any supplier has been\n          advised of the possibility of such damages and even if the remedy\n          fails of its essential purpose.\n        </p>\n        <p>\n          Some states do not allow the exclusion of implied warranties or\n          limitation of liability for incidental or consequential damages, which\n          means that some of the above limitations may not apply. In these\n          states, each party's liability will be limited to the greatest extent\n          permitted by law.\n        </p>\n\n        <h1>\"AS IS\" and \"AS AVAILABLE\" Disclaimer</h1>\n        <p>\n          The Service is provided to You \"AS IS\" and \"AS AVAILABLE\" and with all\n          faults and defects without warranty of any kind. To the maximum extent\n          permitted under applicable law, the Company, on its own behalf and on\n          behalf of its Affiliates and its and their respective licensors and\n          service providers, expressly disclaims all warranties, whether\n          express, implied, statutory or otherwise, with respect to the Service,\n          including all implied warranties of merchantability, fitness for a\n          particular purpose, title and non-infringement, and warranties that\n          may arise out of course of dealing, course of performance, usage or\n          trade practice. Without limitation to the foregoing, the Company\n          provides no warranty or undertaking, and makes no representation of\n          any kind that the Service will meet Your requirements, achieve any\n          intended results, be compatible or work with any other software,\n          applications, systems or services, operate without interruption, meet\n          any performance or reliability standards or be error free or that any\n          errors or defects can or will be corrected.\n        </p>\n        <p>\n          Without limiting the foregoing, neither the Company nor any of the\n          company's provider makes any representation or warranty of any kind,\n          express or implied: (i) as to the operation or availability of the\n          Service, or the information, content, and materials or products\n          included thereon; (ii) that the Service will be uninterrupted or\n          error-free; (iii) as to the accuracy, reliability, or currency of any\n          information or content provided through the Service; or (iv) that the\n          Service, its servers, the content, or e-mails sent from or on behalf\n          of the Company are free of viruses, scripts, trojan horses, worms,\n          malware, timebombs or other harmful components.\n        </p>\n        <p>\n          Some jurisdictions do not allow the exclusion of certain types of\n          warranties or limitations on applicable statutory rights of a\n          consumer, so some or all of the above exclusions and limitations may\n          not apply to You. But in such a case the exclusions and limitations\n          set forth in this section shall be applied to the greatest extent\n          enforceable under applicable law.\n        </p>\n\n        <h1>Governing Law</h1>\n        <p>\n          The laws of the Country, excluding its conflicts of law rules, shall\n          govern this Terms and Your use of the Service. Your use of the\n          Application may also be subject to other local, state, national, or\n          international laws.\n        </p>\n\n        <h1>Disputes Resolution</h1>\n        <p>\n          If You have any concern or dispute about the Service, You agree to\n          first try to resolve the dispute informally by contacting the Company.\n        </p>\n\n        <h1>For European Union (EU) Users</h1>\n        <p>\n          If You are a European Union consumer, you will benefit from any\n          mandatory provisions of the law of the country in which you are\n          resident in.\n        </p>\n\n        <h1>United States Legal Compliance</h1>\n        <p>\n          You represent and warrant that (i) You are not located in a country\n          that is subject to the United States government embargo, or that has\n          been designated by the United States government as a “terrorist\n          supporting” country, and (ii) You are not listed on any United States\n          government list of prohibited or restricted parties.\n        </p>\n\n        <h1>Severability and Waiver</h1>\n        <h2>Severability</h2>\n        <p>\n          If any provision of these Terms is held to be unenforceable or\n          invalid, such provision will be changed and interpreted to accomplish\n          the objectives of such provision to the greatest extent possible under\n          applicable law and the remaining provisions will continue in full\n          force and effect.\n        </p>\n\n        <h2>Waiver</h2>\n        <p>\n          Except as provided herein, the failure to exercise a right or to\n          require performance of an obligation under this Terms shall not effect\n          a party's ability to exercise such right or require such performance\n          at any time thereafter nor shall be the waiver of a breach constitute\n          a waiver of any subsequent breach.\n        </p>\n\n        <h1>Translation Interpretation</h1>\n        <p>\n          These Terms and Conditions may have been translated if We have made\n          them available to You on our Service.\n        </p>\n        <p>\n          You agree that the original English text shall prevail in the case of\n          a dispute.\n        </p>\n\n        <h1>Changes to These Terms and Conditions</h1>\n        <p>\n          We reserve the right, at Our sole discretion, to modify or replace\n          these Terms at any time. If a revision is material We will make\n          reasonable efforts to provide at least 30 days' notice prior to any\n          new terms taking effect. What constitutes a material change will be\n          determined at Our sole discretion.\n        </p>\n        <p>\n          By continuing to access or use Our Service after those revisions\n          become effective, You agree to be bound by the revised terms. If You\n          do not agree to the new terms, in whole or in part, please stop using\n          the website and the Service.\n        </p>\n\n        <h1>Contact Us</h1>\n        <p>\n          If you have any questions about these Terms and Conditions, You can\n          contact us:\n        </p>\n\n        <ul></ul>\n      </div>\n    );\n  }\n}\n\nexport default Terms;\n","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound\">\n      <h1 className=\"error\">ERROR 404</h1>\n      <h3>\n        We are sorry but the page \"{window.location.pathname}\" you are looking\n        for does not exist.\n      </h3>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Home from \"./pages/home/Home.js\";\nimport Profile from \"./pages/profile/Profile.js\";\nimport Help from \"./pages/help/Help.js\";\nimport Contact from \"./pages/contact/Contact.js\";\nimport AboutUs from \"./pages/aboutUs/AboutUs.js\";\nimport Terms from \"./pages/terms/Terms.js\";\nimport NotFound from \"./pages/notFound/NotFound.js\";\n\nclass Routes extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/profile\" component={Profile} />\n        <Route exact path=\"/help\" component={Help} />\n        <Route exact path=\"/contact\" component={Contact} />\n        <Route exact path=\"/about-us\" component={AboutUs} />\n        <Route exact path=\"/terms\" component={Terms} />\n        <Route>\n          <NotFound />\n        </Route>\n        {/* Finally, catch all unmatched routes */}\n      </Switch>\n    );\n  }\n}\n\nexport default Routes;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { NavLink } from \"react-router-dom\";\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport icon from \"../../assets/toolBox_logo.png\";\nimport \"./Header.css\";\nimport \"./PopUp.css\";\n\nfunction Header(props) {\n  const signed_out_header = (\n    <Navbar expand=\"lg\">\n      <Navbar.Brand>\n        <NavLink to=\"/\">\n          <img\n            className=\"logoHead\"\n            src={icon}\n            alt=\"webApp Logo\"\n            data-logo-alt={icon}\n          />\n          <h1 className=\"navTitle\">ToolBox</h1>\n        </NavLink>\n      </Navbar.Brand>\n      <div id=\"userNameDisplay\"></div>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"justify-content-end\" style={{ width: \"100%\" }}>\n          <Nav.Item id=\"homeNav\">\n            <NavLink\n              className=\"Header_item\"\n              activeClassName=\"Header_item-active\"\n              exact\n              to=\"/\"\n            >\n              Home\n            </NavLink>\n          </Nav.Item>\n          <Nav.Item id=\"helpNav\">\n            <NavLink\n              className=\"Header_item\"\n              activeClassName=\"Header_item-active\"\n              exact\n              to=\"/help\"\n            >\n              Help\n            </NavLink>\n          </Nav.Item>\n          <Nav.Item id=\"signInNav\">\n            <span\n              className=\"Header_item\"\n              onClick={() => props.display_popUp(\"sign-in\")}\n            >\n              Sign In\n            </span>\n          </Nav.Item>\n          <Nav.Item id=\"signUpNav\">\n            <span\n              className=\"Header_item\"\n              onClick={() => props.display_popUp(\"sign-up\")}\n            >\n              Sign Up\n            </span>\n          </Nav.Item>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n\n  const signed_in_header = (\n    <Navbar expand=\"lg\">\n      <Navbar.Brand>\n        <NavLink to=\"/\">\n          <img\n            className=\"logoHead\"\n            src={icon}\n            alt=\"webApp Logo\"\n            data-logo-alt={icon}\n          />\n          <h1 className=\"navTitle\">ToolBox</h1>\n        </NavLink>\n      </Navbar.Brand>\n      <div id=\"userNameDisplay\"></div>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"justify-content-end\" style={{ width: \"100%\" }}>\n          <Nav.Item id=\"homeNav\">\n            <NavLink\n              className=\"Header_item\"\n              activeClassName=\"Header_item-active\"\n              exact\n              to=\"/\"\n            >\n              Home\n            </NavLink>\n          </Nav.Item>\n          <Nav.Item id=\"helpNav\">\n            <NavLink\n              className=\"Header_item\"\n              activeClassName=\"Header_item-active\"\n              exact\n              to=\"/help\"\n            >\n              Help\n            </NavLink>\n          </Nav.Item>\n          <Nav.Item id=\"profileNav\">\n            <NavLink\n              className=\"Header_item\"\n              activeClassName=\"Header_item-active\"\n              exact\n              to=\"/profile\"\n            >\n              My Profile\n            </NavLink>\n          </Nav.Item>\n          <Nav.Item id=\"signOutNav\">\n            <span\n              className=\"Header_item\"\n              onClick={() => props.display_popUp(\"sign-out\")}\n            >\n              Sign Out\n            </span>\n          </Nav.Item>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n\n  return <div>{props.signed_in ? signed_in_header : signed_out_header}</div>;\n}\n\nexport default Header;\n\nHeader.propTypes = {\n  signed_in: PropTypes.bool.isRequired,\n  display_popUp: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport \"./Footer.css\";\nimport Logo from \"../../assets/toolBox_logo.png\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <div className=\"mainFooter\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <img\n                className=\"logo\"\n                src={Logo}\n                alt=\"Here lays the logo\"\n                data-logo-alt={Logo}\n              />\n              <h4>\n                <a className=\"businessName\" href=\"/\">\n                  ToolBox\n                </a>\n              </h4>\n            </div>\n            <div className=\"col\">\n              <ul className=\"list-unstyled\">\n                <li>\n                  <h5 className=\"footDivTitle\">About us</h5>\n                  <section className=\"footText\">\n                    We're students at EPHEC and we've made this web application\n                    for our course of web development.\n                  </section>\n                </li>\n                <li>\n                  <h5 className=\"footDivTitle\">Contact</h5>\n                  <section className=\"footText\">\n                    HE201649@students.ephec.be\n                  </section>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col\">\n              <h5 className=\"footDivTitle\">Informations</h5>\n              <ul className=\"list-unstyled\">\n                <li>\n                  <a className=\"links\" href=\"/about-us\">\n                    About Us\n                  </a>\n                </li>\n                <li>\n                  <a className=\"links\" href=\"/Contact\">\n                    Contact\n                  </a>\n                </li>\n                <li>\n                  <a className=\"links\" href=\"/terms\">\n                    {\" \"}\n                    Terms of Service{\" \"}\n                  </a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"col\">\n              <h5 className=\"footDivTitle\">Helpfull Links</h5>\n              <ul className=\"list-unstyled\">\n                <li>\n                  <a\n                    className=\"links\"\n                    href=\"https://trello.com/b/Y4rZYhcT/projet-dev-web\"\n                  >\n                    Trello\n                  </a>\n                </li>\n                <li>\n                  <a\n                    className=\"links\"\n                    href=\"https://github.com/Altiimax/DevWebProject\"\n                  >\n                    Github\n                  </a>\n                </li>\n                <li>\n                  <a className=\"links\" href=\"/help\">\n                    Helpdesk\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div className=\"row\" id=\"copyrights\">\n            <p className=\"col-sm\">\n              &copy;{new Date().getFullYear()} ToolBox | All right reserved\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\n\nimport \"./Form.css\";\n\n\nconst user_initialState = {\n  id: \"\",\n  email: \"\",\n  password: \"\",\n};\n\n/**\n * Popup containing a form to sign-in\n */\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = user_initialState;\n    this.showPopUp = true;\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(user_initialState);\n  };\n\n  loginAPIRequest(email,pwd) {\n    let self = this; //self will be a reference to the SignIn class object\n\n    let endpoint = \"/api/persons/login/?email=\";\n\n    let req = new apiRequest();\n    req.open(\"GET\", `${endpoint}${email}&pwd=${pwd}`);\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 200) {\n          let usr = JSON.parse(this.responseText);\n          let usr_id = usr[0].id_person;\n          let usr_token = usr[0].token;\n          document.getElementById(\"signInError\").innerHTML = \"\";\n          self.props.handle_signIn(usr_id,usr_token);\n          self.closePopUp();\n        }\n        if (this.status === 404) {\n\n          document.getElementById(\"signInError\").innerHTML = \"Incorrect sign-in information\";\n        }\n      }\n    });\n\n    req.send();\n  }\n\n  handleChange = (e) => {\n    let target = e.target;\n    let value = target.value;\n    let name = target.name;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.loginAPIRequest(this.state.email, this.state.password);\n\n  };\n\n  render() {\n    return (\n      <>\n        {/* Sign-in popup */}\n        <Modal\n          show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Sign In</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <form id=\"signInForm\" onSubmit={this.handleSubmit}>\n              <label className=\"FormField_Label\" htmlFor=\"email\">\n                E-mail address\n              </label>\n              <input\n                required\n                type=\"email\"\n                className=\"FormField_Input\"\n                name=\"email\"\n                placeholder=\"Enter your e-mail address\"\n                value={this.state.email}\n                onChange={this.handleChange}\n              />\n\n              <label className=\"FormField_Label\" htmlFor=\"password\">\n                Password\n              </label>\n              <input\n                required\n                type=\"password\"\n                className=\"FormField_Input\"\n                name=\"password\"\n                placeholder=\"Enter your password\"\n                value={this.state.password}\n                onChange={this.handleChange}\n              />\n\n              <div className=\"error\" id=\"signInError\" disabled=\"disabled\"></div>\n\n              <div className=\"FormBtns\">\n                <input\n                  className=\"FormCancelBtn\"\n                  type=\"button\"\n                  value=\"Cancel\"\n                  onClick={this.closePopUp}\n                />\n                <input\n                  className=\"FormSubmitBtn\"\n                  type=\"submit\"\n                  value=\"Sign-in\"\n                />\n              </div>\n            </form>\n          </Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default SignIn;\n\nSignIn.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  handle_signIn: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\nimport { apiRequest } from \"../../api/apiRequest.js\";\n\nimport \"./Form.css\";\n\nconst user_initialState = {\n  email: \"\",\n  firstname: \"\",\n  lastname: \"\",\n  birthDate: \"\",\n  alias: \"\",\n  newPassword: \"\",\n  confirmPassword: \"\",\n  hasagreed: false,\n};\n\n/**\n * Popup containing a form to sign-up\n */\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = user_initialState;\n    this.showPopUp = true;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.setState(user_initialState);\n  };\n\n\n  newAccountAPIRequest(newprofile) {\n    let self = this; //self will be a reference to the SignUp class object\n\n    let endpoint = \"/api/persons/\";\n\n    let req = new apiRequest();\n    req.open(\"POST\", `${endpoint}`);\n    req.contentType(\"json\");\n\n    req.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        if (this.status === 201) {\n          let usr = JSON.parse(this.responseText)[0];\n          let usr_id = usr.id_person;\n          let usr_token = usr.token;\n          self.props.handle_signIn(usr_id,usr_token);\n          self.closePopUp();\n        } else if (this.status === 409) {\n          let error = JSON.parse(this.responseText).error;\n          if (error.includes(\"email\")) {\n            document.getElementById(\"email_error\").innerHTML = error;\n          } \n          else if (error.includes(\"alias\")) {\n            document.getElementById(\"email_error\").innerHTML = \"\";\n            document.getElementById(\"alias_error\").innerHTML = error;\n          } \n          else {\n            //pass\n          }\n        }\n      }\n    });\n\n    req.send(newprofile);\n  }\n\n  handleChange(e) {\n    let target = e.target;\n    let value = target.type === \"checkbox\" ? target.checked : target.value;\n    let name = target.name;\n\n    this.setState(\n      {\n        [name]: value,\n      },\n      function () {\n        if (name === \"birthDate\") {\n          //Check if the age is correct\n          let now = new Date();\n          let input = new Date(value);\n          let age = Math.floor((now - input) / 31557600000);\n          if (age < 18) {\n            let errorMessage =\n              \"<p>You must be 18 to register to this application! But your age is : \" +\n              age +\n              \" </p>\";\n            document.getElementById(\"date_error\").innerHTML = errorMessage;\n          } else {\n            document.getElementById(\"date_error\").innerHTML = \"\";\n          }\n        }\n\n        if (name === \"newPassword\") {\n          //Check if password has a minimum length of 8\n          if (value !== \"\" && value.length < 8) {\n            let errorMessage =\n              \"<p>The password must be 8 characters minimum!</p>\";\n            document.getElementById(\n              \"newpassword_error\"\n            ).innerHTML = errorMessage;\n          } else {\n            document.getElementById(\"newpassword_error\").innerHTML = \"\";\n          }\n        }\n\n        if (name === \"confirmPassword\") {\n          //Check if passwords are matching\n          if (\n            value !== \"\" &&\n            this.state.newPassword !== this.state.confirmPassword\n          ) {\n            let errorMessage = \"<p>Passwords don't match!</p>\";\n            document.getElementById(\"password_error\").innerHTML = errorMessage;\n          } else {\n            document.getElementById(\"password_error\").innerHTML = \"\";\n          }\n        }\n      }\n    );\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let data = {\n      lastName: this.state.lastname,\n      firstName: this.state.firstname,\n      birthDate: this.state.birthDate,\n      alias: this.state.alias,\n      email: this.state.email,\n      password: this.state.newPassword,\n    };\n    this.newAccountAPIRequest(JSON.stringify(data));\n  }\n\n  render() {\n    return (\n      <>\n        {/* Sign-up popup */}\n        <Modal\n          show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Sign Up</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <form id=\"signUpForm\" onSubmit={this.handleSubmit}>\n              <label className=\"FormField_Label\" htmlFor=\"email\">\n                {\" \"}\n                E-mail address{\" \"}\n              </label>\n              <input\n                required\n                type=\"email\"\n                className=\"FormField_Input\"\n                name=\"email\"\n                placeholder=\"Enter your e-mail address\"\n                value={this.state.email}\n                onChange={this.handleChange}\n              />\n              <span className=\"error\" id=\"email_error\"></span>\n              <label className=\"FormField_Label\" htmlFor=\"firstname\">\n                {\" \"}\n                First name{\" \"}\n              </label>\n              <input\n                required\n                type=\"text\"\n                className=\"FormField_Input\"\n                name=\"firstname\"\n                placeholder=\"Enter your forename\"\n                value={this.state.firstname}\n                onChange={this.handleChange}\n              />\n              <label className=\"FormField_Label\" htmlFor=\"lastname\">\n                {\" \"}\n                Last name{\" \"}\n              </label>\n              <input\n                required\n                type=\"text\"\n                className=\"FormField_Input\"\n                name=\"lastname\"\n                placeholder=\"Enter your surename\"\n                value={this.state.lastname}\n                onChange={this.handleChange}\n              />\n              <label className=\"FormField_Label\" htmlFor=\"birthDate\">\n                {\" \"}\n                Birthdate{\" \"}\n              </label>\n              <input\n                required\n                type=\"date\"\n                className=\"FormField_Input\"\n                name=\"birthDate\"\n                value={this.state.birthDate}\n                onChange={this.handleChange}\n              />\n              <span className=\"error\" id=\"date_error\"></span>\n              <label className=\"FormField_Label\" htmlFor=\"alias\">\n                {\" \"}\n                Alias{\" \"}\n              </label>\n              <input\n                required\n                type=\"text\"\n                className=\"FormField_Input\"\n                name=\"alias\"\n                placeholder=\"Enter your alias\"\n                value={this.state.alias}\n                onChange={this.handleChange}\n              />\n              <span className=\"error\" id=\"alias_error\"></span>\n              <label className=\"FormField_Label\" htmlFor=\"newPassword\">\n                {\" \"}\n                New password{\" \"}\n              </label>\n              <input\n                required\n                type=\"password\"\n                className=\"FormField_Input\"\n                name=\"newPassword\"\n                placeholder=\"Enter a new password\"\n                value={this.state.newPassword}\n                onChange={this.handleChange}\n              />\n              <span className=\"error\" id=\"newpassword_error\"></span>\n              <label className=\"FormField_Label\" htmlFor=\"confirmPassword\">\n                {\" \"}\n                Password confirmation{\" \"}\n              </label>\n              <input\n                required\n                type=\"password\"\n                className=\"FormField_Input\"\n                name=\"confirmPassword\"\n                placeholder=\"Enter your password\"\n                value={this.state.confirmPassword}\n                onChange={this.handleChange}\n              />\n              <span className=\"error\" id=\"password_error\"></span>\n              <div>\n                <label className=\"FormField_CheckBox\" htmlFor=\"hasagreed\"></label>\n                <input\n                  required\n                  type=\"checkbox\"\n                  className=\"FormField_Input_Check\"\n                  name=\"hasagreed\"\n                  value={this.state.hasagreed}\n                  onChange={this.handleChange}\n                />{\" \"}\n                I agree with all the statements in{\" \"}\n                <a href=\"/terms\" className=\"FormField_TermsLink\">\n                  {\" \"}\n                  terms of service.{\" \"}\n                </a>\n              </div>\n              <div className=\"FormBtns\">\n                <input\n                  className=\"FormCancelBtn\"\n                  type=\"button\"\n                  value=\"Cancel\"\n                  onClick={this.closePopUp}\n                />\n                <input\n                  className=\"FormSubmitBtn\"\n                  type=\"submit\"\n                  value=\"Sign-up\"\n                />\n              </div>\n            </form>\n          </Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default SignUp;\n\nSignUp.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  handle_signIn: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal } from \"react-bootstrap\";\n\nimport \"./Form.css\";\n\nclass SignOut extends Component {\n  constructor(props) {\n    super(props);\n    this.showPopUp = true;\n  }\n\n  componentDidUpdate() {\n    this.showPopUp = this.props.showPopUp;\n  }\n\n  closePopUp = () => {\n    this.showPopUp = false;\n    this.forceUpdate();\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.handle_signOut();\n    this.closePopUp();\n  };\n\n  render() {\n    return (\n      <>\n        {/* Sign-out popup */}\n        <Modal\n          show={this.showPopUp}\n          onHide={() => {\n            this.closePopUp();\n          }}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Sign Out</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <form id=\"signOutForm\" onSubmit={this.handleSubmit}>\n              <label className=\"FormField_Label\">\n                {\" \"}\n                Are you sure you want to sign out ?\n              </label>\n\n              <div className=\"FormBtns\">\n                <input\n                  className=\"FormCancelBtn\"\n                  type=\"button\"\n                  value=\"Cancel\"\n                  onClick={this.closePopUp}\n                />\n                <input\n                  className=\"FormSubmitBtn\"\n                  type=\"submit\"\n                  value=\"Sign-out\"\n                />\n              </div>\n            </form>\n          </Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n}\n\nexport default SignOut;\n\nSignOut.propTypes = {\n  showPopUp: PropTypes.bool.isRequired,\n  handle_signOut: PropTypes.func.isRequired,\n};\n","import React, { Component } from \"react\";\nimport tokenIsValid, {getUserProfileAPIRequest, userFromToken} from \"./utils\";\nimport history from \"./history\";\nimport Routes from \"./Routes\";\nimport Header from \"./components/Header/Header.js\";\nimport Footer from \"./components/Footer/Footer.js\";\nimport SignIn from \"./components/Sign/SignIn.js\";\nimport SignUp from \"./components/Sign/SignUp.js\";\nimport SignOut from \"./components/Sign/SignOut.js\";\nimport { apiRequest } from \"./api/apiRequest.js\";\n\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signed_in: false,\n      user_id: 0,\n      show_popUp: \"\",\n    };\n  }\n\n  componentDidMount() {\n    if (tokenIsValid()) {\n      let token = localStorage.getItem('token');\n      let endpoint = \"/api/persons/login_token/?token=\";\n      let req = new apiRequest();\n      req.open(\"GET\", `${endpoint}${token}`);\n\n      let self = this;\n      req.addEventListener(\"readystatechange\", function () {\n        if (this.readyState === 4) {\n          if (this.status === 200) {\n            let user = this.responseText[0];\n            self.setState({\n              user_id: user.id_person,\n              signed_in: true,\n            });\n            getUserProfileAPIRequest(userFromToken().id);\n          }\n          if (this.status === 404) {\n            document.getElementById(\"userNameDisplay\").innerHTML = \"\";\n            //history.push('/');\n          }\n        }\n      });\n  \n      req.send();\n      \n    }\n    else{\n      document.getElementById(\"userNameDisplay\").innerHTML = \"\";\n    }\n  }\n\n  display_popUp = (type) => {\n    this.setState({ show_popUp: type });\n  };\n\n  popUp = () => {\n    let p;\n    switch (this.state.show_popUp) {\n      case \"sign-in\":\n        p = <SignIn showPopUp={true} handle_signIn={this.handle_signIn} />;\n        break;\n      case \"sign-up\":\n        p = <SignUp showPopUp={true} handle_signIn={this.handle_signIn} />;\n        break;\n      case \"sign-out\":\n        p = <SignOut showPopUp={true} handle_signOut={this.handle_signOut} />;\n        break;\n      default:\n        p = null;\n    }\n    return p;\n  };\n\n  handle_signIn = (u_id, u_token) => {\n    localStorage.setItem('token',u_token);\n    getUserProfileAPIRequest(userFromToken().id);\n    this.setState({\n      user_id: u_id,\n      signed_in: true,\n    });\n    window.location.reload();\n  };\n\n\n  handle_signOut = () => {\n    localStorage.removeItem('token');\n    document.getElementById(\"userNameDisplay\").innerHTML = \"\";\n    history.push('/');\n    window.location.reload();\n    this.setState({\n      user_id: 0,\n      signed_in: false,\n    });\n  };\n\n  render() {\n    tokenIsValid();\n    return (\n      <div className=\"App\">\n        <div className=\"bg\">\n          <div className=\"Header\">\n            <Header\n              signed_in={this.state.signed_in}\n              display_popUp={this.display_popUp}\n            />\n          </div>\n\n          <div className=\"Body\">\n            <Routes/>\n\n            <div id=\"bodyContent\">\n              {this.popUp()} {/*every popup will be displayed here*/}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"Footer\">\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n//import { BrowserRouter as Router } from \"react-router-dom\";\nimport { Router } from \"react-router-dom\";\nimport history from \"./history\";\n\nReactDOM.render(\n  <Router history={history}>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPHSURBVHgB7ZxBTttAFIZnbAtZIqqyZFfnAm24QRAXyA2aSIgIWFScoHACVgiFTdIbcALwDRpOgEvZkwgqLFHHnWeN02QyiXlRk0bq/0mRx8PLMPrlmcx7fjOy3W6nYgwpZXd/f78pDC4uLk4cx/li1g+Hw+bBwUHXrL+8vLxJ07Rm1ruuG+zt7X03681+aKJWq1Wx9KWm+nJj6cup6suJxb6r7D9Z7HeUfWjpy526BGa9I8Cb8ejJMOoim6Gyu5rxt9BmnyTJqbp8Nes3NjYGM9qfeprV09C32fq+34vjuGlpoyfsdNXfQkt9NMP+WNmXdbmWP5VSgLmoIdxQYnWojGHIAGIxgFgMZP6TPWsJAP6AJ4sBxGIAsRhALAae8t8iKqhrX4ApOp1OWXkL2WoeK/gCsIJfEIjFAGIxgFgMPIo66nKk3J1IgAkopqZWCiGVvTw8q4NvXQEmUGFtCnrSB8OQA8RiALEYQCwG5Bt2dTkSYAq1WgjUpUbltfINH4Og/DOOt/P71zj+Vun3/6mDP+4bemKNeI7jauq616OKUmlH9PuhWBMwZzGAWAwgFgPyDU+oQLkMR0dHPQEm0PkTlLeR+YZ5GlGkPhDLQD9AmS4YhgwgFgOIxWAli9K7crns+X610NDzPqp3cqNbJ0mqP7a2Cr/2+PJy+2EweBRLZjzzLxRLQm5ubisJrgsN08m0Uuk4Z6ko5l2ptCsGg+L2F4Aiya7rZpl/HjJnCglUsKFBBcxZDFYyZ0nX7SXD4U6RnZOmVRUGOcvvU0qElbJ47ff8vJL14UrEen9/T5NvWGRHk7mKOozuSajKw0Ph91YFhiEDT+8moLz148PDwysBJvB9/yqO45DKNAwDKkgpywJM0Ww2KVKbRWsxDBlALAYQiwHEYuC1Wi2kSs5hbV+F/fL9nnx93c3vnaenW7FGrJVYlSiin+ilRA/+BpizGEAsBp5OfKBlfV+vVsEYOk0yojK9Cst8Q73nuCvABEiTXBCIxQBiMYBYDLw8IV4gTdKK3kKXvfOEX1gAttAtCMRiALEYQCwG5Bs2dDnEFjorUb6xwstnemyhs6NPbqMPhiEHiMUAYjGAWAwoTTJLiJ9zuOB/zfn5eVX9CNapPPIN9S78wDSmLBJbuHlsyTGCQrA6smjaBkLv2TOIbOeE6g7aEnaty5t2u10fO/1xbt+1Y1wXb+zLrPeGDdvBp6rhSFgS0fIGzH8odAjWILDZ0wGyM9quzzpAVliWN6qdz8q+ZtYnSUInC0yIRYfw2Pqioy+hmAPmLAa/AbzRfHNMseAVAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/toolBox_logo.fbb6acf4.png\";","module.exports = __webpack_public_path__ + \"static/media/nut.ab6919d7.svg\";"],"sourceRoot":""}